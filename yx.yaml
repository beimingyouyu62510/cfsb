mixed-port: 7890
allow-lan: true
bind-address: '*'
mode: rule
log-level: info

dns:
  enable: true
  listen: 0.0.0.0:1053
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*.lan'
    - '*.local'
    - '+.stun.*.*'
    - '+.stun.*.*.*'
    - '*.msftconnecttest.com'
    - '*.msftncsi.com'
    - '*.services.mozilla.com'
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver-policy:
    "geosite:cn,private":
      - 223.5.5.5
      - 119.29.29.29
    "geosite:us,gb":
      - 1.1.1.1
      - 8.8.8.8
  proxy-server-nameserver:
    - 1.1.1.1
    - 8.8.8.8

tun:
  enable: true
  stack: mixed
  dns-hijack:
    - 198.18.0.2:53
  auto-route: true
  auto-detect-interface: true

sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: false
    TLS:
      ports: [443, 8443]
  skip-domain:
    - 'microsoft.com'
    - 'apple.com'
    - 'localhost'

proxies:
  - name: å¤©ä¹¦cf
    type: vless
    server: laji.jisucf.cloudns.biz
    port: 443
    uuid: ab23f618-3f94-4d74-8c8b-d5703403b5be
    network: ws
    tls: true
    udp: true
    servername: git02.jisucf.cloudns.biz
    ws-opts:
      path: "/?ed=2560"
      headers:
        Host: git02.jisucf.cloudns.biz
  - name: å¤©ä¹¦git
    type: vless
    server: laji.jisucf.cloudns.biz
    port: 443
    uuid: aa6afb24-210c-4fdc-979e-58f71a6f779f
    udp: true
    tls: true
    servername: git01.jisucf.cloudns.biz
    network: ws
    ws-opts:
      path: "/?ed=2560"
      headers:
        Host: git01.jisucf.cloudns.biz
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - å¤©ä¹¦cf
      - å¤©ä¹¦git

  - name: ğŸŒ å›½å¤–åª’ä½“
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT

  - name: ğŸ“² ç”µæŠ¥ä¿¡æ¯
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT

  - name: ğŸ® æ¸¸æˆå¹³å°
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT

  - name: ğŸ“º Kodiä¸“ç”¨
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT

  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT

  - name: ğŸƒ åº”ç”¨å‡€åŒ–
    type: select
    proxies:
      - REJECT
      - DIRECT

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT

rule-providers:
  ç§‹é£å¹¿å‘Š:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/privacy-protection-tools/anti-ad/master/anti-ad-clash.yaml
    path: ./ruleset/qiufeng-ad.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/telegramcidr.txt
    path: ./ruleset/telegram.txt
    interval: 86400

  Download:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/download.txt
    path: ./ruleset/download.txt
    interval: 86400

  ChinaDomain:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/direct.txt
    path: ./ruleset/chinadomain.txt
    interval: 86400

  ChinaIP:
    type: http
    behavior: ipcidr
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/cncidr.txt
    path: ./ruleset/chinaip.txt
    interval: 86400

rules:
  - RULE-SET,ç§‹é£å¹¿å‘Š,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥ä¿¡æ¯
  - RULE-SET,Download,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,umengcloud.com,ğŸƒ åº”ç”¨å‡€åŒ–
  - DOMAIN-SUFFIX,adbiding.cn,ğŸƒ åº”ç”¨å‡€åŒ–
  - DOMAIN-SUFFIX,wxcjgg.cn,ğŸƒ åº”ç”¨å‡€åŒ–
  - RULE-SET,ChinaDomain,DIRECT
  - RULE-SET,ChinaIP,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
